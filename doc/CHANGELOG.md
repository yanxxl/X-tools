# X-tools 发布说明

## v1.6.0 (2026-02-08)

### 文件管理增强

- 文件树支持右键创建新文件/文件夹
- 实现文件重命名、删除功能
- 实现文件拖拽调整目录
- 搜索过滤文件
- 快速展开/收起目录
- 聚焦当前文件
- 优化文件信息显示和文本检测

### 搜索功能优化

- 搜索面板支持宽度调整和关闭
- 扩展搜索范围，支持更多文本文件

### 其他改进

- 视频播放器新增循环播放功能
- PDF 阅读器默认不打开导航栏
- 改善 Windows 兼容性和系统稳定性

## v1.5.0 (2026-01-29)

X-tools 1.5.0 版本在 1.3.0 的基础上，带来了搜索功能的全面重构、Office 文档处理能力的显著提升、性能优化的重大突破以及多项用户体验改进。

### 主要功能增强

#### 搜索功能全面重构

- **线程池架构** - 实现基于 Worker 的线程池，支持并发文件搜索
- **性能优化** - 大幅提升搜索响应速度，降低前端卡顿
- **缓存机制** - 添加文件内容缓存层，提升重复搜索效率
- **预览增强** - 支持即时查看字幕文件的视频内容
- **行跳转优化** - 改善搜索结果的行跳转准确性
- **办公文档搜索** - 支持 Office 文档（docx、xlsx、pptx）及 PDF 内容搜索
- **结果展示优化** - 改善搜索结果布局和显示效果

#### Office 文档处理能力提升

- **API 升级** - 文档处理使用新的 API，提升解析效率
- **Excel 处理** - 完善 xlsx 文件处理，使用新 API
- **PowerPoint 处理** - 改善 pptx 文档展示效果
- **Word 处理** - 优化 docx 文档渲染质量
- **文本提取** - 支持 officeparser 支持的所有文档类型文本展示

#### 性能与架构优化

- **依赖升级** - 升级 Ant Design、React 等核心依赖版本
- **线程池实现** - 建立前后端线程池通信机制
- **文件缓存** - 添加文件最后修改时间跟踪
- **内存管理** - 优化内存使用，减少资源占用

### 界面与用户体验优化

#### 搜索界面改进

- **折叠按钮优化** - 改善搜索结果的折叠/展开操作
- **结果展示** - 优化搜索结果的分批显示机制
- **性能提示** - 添加搜索性能优化提示
- **排序功能** - 完善搜索结果排序机制

#### 文件管理优化

- **文件夹流程** - 完善文件夹打开流程
- **历史记录** - 重构历史记录功能，修复相关 bug
- **文件信息** - 添加文件最后修改时间显示

### 兼容性与稳定性

#### 跨平台兼容性

- **Windows 优化** - 解决线程中乱码问题
- **模块加载** - 修复 Windows 下 worker 找不到模块的问题
- **PDF 解析** - 修改 Windows 下 PDF 解析错误
- **媒体文件** - 解决偶有找不到媒体文件的问题

#### 错误修复

- **历史记录** - 修复历史记录相关 bug
- **文件处理** - 修复最后文件处理错误的问题
- **版本检查** - 改善版本检查信息展示
- **搜索停止** - 改善搜索停止机制

### 技术架构改进

#### 代码重构与清理

- **组件分离** - 重构搜索功能，分离组件
- **工具函数** - 分离工具函数，提升代码复用性
- **废弃代码** - 清理之前的搜索实现代码
- **代码整理** - 整体代码重构和整理

#### 构建与部署

- **依赖管理** - 安装 workerpool、flexsearch 等新依赖
- **示例清理** - 删除 web worker 示例代码
- **错误处理** - 改善错误提示机制

X-tools 1.5.0 版本专注于搜索性能和 Office 文档处理能力的重大提升，通过线程池架构和缓存机制的引入，为用户提供更加高效和流畅的本地资料库搜索体验。

## v1.3.0

X-tools 1.3.0 开发版本在 1.2.0 的基础上，带来了词典功能的全面引入、Office 文档格式支持的扩展、图片查看功能的增强以及多项用户体验优化。

### 主要功能增强

#### 词典功能（全新）

- 实现基于 Markdown 的词典查词功能
- 支持 PDF 文档中选中文本查词
- 词典搜索框优化，取消选中时自动清空
- 英文搜索支持全词匹配
- 改善词典性能
- 增强查词逻辑，处理长文本情况
- 支持多条词条展示
- 优化同义词展示效果
- 格式化词典代码，提高可维护性

#### Office 文档支持（全新）

- 支持 docx 文件查看
- 改善 docx 页面展示效果
- 优化 docx 大纲显示
- 初步实现 pptx 文件展示
- 整理 pptx 源码
- 改善 pptx 展示效果
- 支持 xlsx 文件展示
- 解决 officeparser 适配问题

#### 图片查看功能增强

- 改善图片背景显示
- 避免过多动画效果
- 增强图片操作功能：缩放、旋转等
- 点击段落即可切换朗读内容
- 改善画布大小计算

#### 版本检查功能

- 优化版本检查逻辑

### 界面与用户体验优化

#### 文件类型支持

- 增加音频文件类型支持
- 检查 Electron 对文件类型的支持

#### 词典界面

- 改善词典搜索性能
- 优化搜索框显示效果

#### 边框与状态

- 保存边框状态

### 其他改进

- 修复偶有侧边出现线条的 bug
- 改善文档内容
- 添加示例文件
- 更新项目文档
- 代码整理与优化

## v1.2.0 (2026-01-08)

X-tools 1.2.0 版本带来了视频字幕功能的全面增强、界面优化和新功能的引入，特别是在视频内容的浏览体验和工具窗口的管理方面进行了显著改进。

### 主要功能增强

#### 视频字幕功能全面升级

- 初步实现视频字幕支持
- 当前字幕可拖动调整位置
- 字幕列表支持宽度调整
- 字幕序号优化显示
- 固定字幕列表头部，提升浏览体验
- 添加字幕搜索功能，支持正则表达式
- 字幕搜索显示命中条数
- 字幕列表搜索或鼠标悬停时显示时间信息
- 支持隐藏当前字幕
- 改善字幕列表间距和显示效果

#### 边栏控制功能

- 实现边栏控制功能，可灵活管理工具窗口
- 改善边栏控制图标

#### 版本检查功能

- 添加版本检查功能，有新版本时自动提醒

#### 文件访问历史

- 文件访问历史窗口文件图标改善

### 界面与用户体验优化

#### 视频播放器

- 视频播放进度恢复功能优化
- 修复视频进度丢失问题
- 字幕隐藏图标改善

#### 整体界面

- 标题栏添加灰色分隔线，增强视觉层次
- 改进 Windows 按钮样式和图标
- 字幕列表隐藏显示优化

### 性能与稳定性

#### 代码重构

- 整理代码，删除废弃代码
- 重构播放器代码
- 清理冗余代码
- 完善配置文件和当前文件夹处理
- 重构，去掉不必要的 Windows 变量

#### 技术升级

- 升级 Ant Design 到 6.1.3，修复 Splitter 调整宽度时的 bug

#### 其他优化

- 窗口与文件夹对应状态维护改善
- 当没有文件夹时优化窗口选择逻辑
- 完善文档内容

## v1.1.0 (2025-12-30)

X-tools 1.1.0 版本带来了多项功能增强、界面优化和性能稳定性提升，特别是在 PDF 阅读体验、多窗口支持和跨平台适配方面进行了显著改进。

### 主要功能增强

#### PDF 阅读器全面升级

- 引入 pdfjs，实现专业的 PDF 文档阅读体验
- 支持 PDF 主题切换（浅色/深色模式）
- 实现 PDF 选中文本高亮显示
- 默认打开书签目录，宽度优化为 320px
- 搜索框优化，避免遮挡正文内容
- 工具栏布局调整，搜索按钮更明显
- 隐藏菜单栏打印保存按钮，简化界面

#### 多窗口支持

- 支持同时打开多个文件夹窗口
- 新窗口打开时适当偏离，避免遮挡主窗口

#### 搜索功能增强

- 实现 Markdown 编辑模式搜索
- 页内搜索功能优化，提高准确性
- 搜索无结果时显示提示信息
- 支持选中文本后点击搜索

#### 朗读功能改进

- 恢复朗读提示功能
- 默认从可见文字开始播放
- 修复元素定位偏差问题

#### 格式支持扩展

- 添加更多文本格式支持
- Markdown 处理支持 HTML 标签

### 界面与用户体验优化

#### Markdown 阅读器

- 大纲跳转优化，定位更准确
- 行高调整，提高阅读舒适度

#### 文件管理

- 文件树背景颜色弱化，减少视觉干扰
- 目录树选中逻辑优化
- 切换文件夹时下拉菜单自动消失

#### 整体界面

- 按钮样式与系统保持一致
- 多平台适配优化（Windows/Mac）
- 解决 Windows 下控制台乱码问题

### 性能与稳定性

#### 打包与兼容性

- 解决 Windows 下打包文件无法搜索的问题
- 修复打包后 PDF 文件打不开的问题
- 解决 Windows 下打开文件失败的问题
- 解决含有特殊字符的文件路径错误

#### 技术升级

- 升级 Electron 到 39.2.4
- 升级 React 版本，提升性能
- 代码重构与整理，提高可维护性

#### 其他修复

- 修复页面选中内容无法复制的问题
- 修复跳转不准确的问题
- 修复点开文件夹时的跳动问题
- 修复 Windows 搜索页面文件夹处理错误

### 其他改进

- 添加各平台图标支持
- 更新 README 文档
- 添加 MIT 开源协议文件
- 代码质量提升，移除冗余代码

X-tools 1.1.0 版本专注于提升用户体验和功能完整性，特别是在文档阅读和多窗口管理方面的改进，将为用户提供更加高效和流畅的本地资料库浏览体验。
